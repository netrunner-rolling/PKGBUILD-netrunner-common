# $Id$
# Maintainer: James Kittsmiller (AJSlye) <james@nulogicsystems.com>

pkgname=netrunner-settings-theming
pkgver=$(date +%Y.%m)
pkgrel=1
pkgdesc="Default theming settings"
arch=('any')
url='https://github.com/netrunner-common/netrunner-settings-theming'
license=('GPL')
groups=('netrunner-common')
makedepends=('git')
source=('git://github.com/netrunner-common/netrunner-settings-theming'
        'Trolltech.conf')
md5sums=('SKIP'
        'SKIP')

prepare() {
  cd $srcdir/$pkgname
  sed -i '/KDE]/a\LookAndFeelPackage=org.kde.netrunner-rolling.desktop' usr/share/default-settings/plasma5-profile/kdeglobals
  sed -e 's|^ShadowSize=.*|ShadowSize=50|' -i usr/share/default-settings/plasma5-profile/breezerc
  sed -e 's|^blurEnabled=.*|blurEnabled=true|' -i usr/share/default-settings/plasma5-profile/kwinrc
  mv etc/gtk-2.0/gtkrc etc/skel/.gtkrc-2.0
  mv etc/gtk-3.0 etc/skel/.config/
  rm -r etc/gtk-2.0
}

package() {
  cd $srcdir/$pkgname
  cp -aR etc $pkgdir/
  cp -aR usr $pkgdir/
   
# Install Trolltech.conf modified for Arch/Manjaro base
  install -Dm644 "${srcdir}"/Trolltech.conf "${pkgdir}"/etc/skel/.config/Trolltech.conf
}
